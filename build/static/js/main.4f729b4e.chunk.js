(this.webpackJsonpfitness_trackr=this.webpackJsonpfitness_trackr||[]).push([[0],{27:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var r=n(3),a=n(1),c=n(31),i=n.n(c),s=n(9),o=n(6),u=n(2),l=n.n(u),j=n(4),b=n(5),p=n.n(b),d="https://fitnesstrac-kr.herokuapp.com";function h(){return(h=Object(j.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("".concat(d,"/api/activities"));case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var O=function(){return h.apply(this,arguments)},f=(n(27),n(0));function m(e,t){return v.apply(this,arguments)}function v(){return(v=Object(j.a)(l.a.mark((function e(t,n){var a,c,i,s,o,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.token,c=n.setError,t.preventDefault(),i=t.target,s=Object(r.a)(i,2),o=s[0],u=s[1],e.prev=4,e.next=7,p()("".concat(d,"/api/activities"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},data:{name:"".concat(o.value),description:"".concat(u.value)}});case 7:e.sent,window.location.reload(),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),c("*An activity with that name already exists!"),console.error(e.t0);case 15:case 16:case"end":return e.stop()}}),e,null,[[4,11]])})))).apply(this,arguments)}var x=function(e){var t=e.token,n=Object(a.useState)(""),c=Object(r.a)(n,2),i=c[0],s=c[1],o=Object(a.useState)(""),u=Object(r.a)(o,2),b=u[0],p=u[1],d=Object(a.useState)(""),h=Object(r.a)(d,2),O=h[0],v=h[1],x={token:t,setError:s};return Object(f.jsxs)("form",{id:"new-act",onSubmit:function(){var e=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m(t,x));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[Object(f.jsx)("h3",{children:"New Activity"}),Object(f.jsx)("p",{className:"error",children:i}),Object(f.jsx)("label",{htmlFor:"act-name",children:"Name: "}),Object(f.jsx)("input",{name:"act-name",id:"act-name",type:"text",placeholder:"name",required:!0,value:b,onChange:function(){var e=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",p(t.target.value));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Object(f.jsx)("label",{htmlFor:"act-desc",children:"Description: "}),Object(f.jsx)("input",{name:"act-desc",id:"act-desc",type:"text",placeholder:"goal",required:!0,value:O,onChange:function(){var e=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v(t.target.value));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Object(f.jsx)("button",{id:"btn-submit",type:"submit",children:"Submit"})]})};var g=function(e){var t=e.loggedIn,n=localStorage.getItem("Token"),c=Object(a.useState)([]),i=Object(r.a)(c,2),s=i[0],o=i[1];Object(a.useEffect)((function(){function e(){return(e=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O();case 2:t=e.sent,o(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var u=function(e){return e.map((function(e,t){return Object(f.jsxs)("div",{className:"activity",children:[Object(f.jsxs)("h1",{children:["Name: ",e.name]}),Object(f.jsxs)("h1",{children:["Description: ",e.description]})]},t)}))}(s);return Object(f.jsxs)("div",{id:"activity-table",children:[t?Object(f.jsx)(x,{token:n}):null,Object(f.jsx)("div",{id:"activity-list",children:u})]})},y=function(e){var t=e.activity;return Object(f.jsxs)("li",{className:"activity",children:[Object(f.jsxs)("h3",{children:["Name: ",t.name]}),Object(f.jsxs)("h3",{children:["Description: ",t.description]}),Object(f.jsxs)("h3",{children:["Count: ",t.count]}),Object(f.jsxs)("h3",{children:["Duration: ",t.duration]})]})};function w(e,t,n){return k.apply(this,arguments)}function k(){return(k=Object(j.a)(l.a.mark((function e(t,n,a){var c,i,s,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),c=Object(r.a)(t.target,3),i=c[0],s=c[1],o=c[2],e.prev=2,e.next=5,p()("".concat(d,"/api/routines/").concat(n,"/activities"),{method:"POST",data:{activityId:"".concat(i.value),count:"".concat(s.value||0),duration:"".concat(o.value||0)}});case 5:window.location.reload(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(2),a("Routine already contains selected activity!"),console.error(e.t0);case 12:case 13:case"end":return e.stop()}}),e,null,[[2,8]])})))).apply(this,arguments)}var S=function(e){var t=e.routine,n=e.actList,c=Object(a.useState)("Activities"),i=Object(r.a)(c,2),s=i[0],o=i[1],u=Object(a.useState)(""),b=Object(r.a)(u,2),p=b[0],d=b[1],h=Object(a.useState)(""),O=Object(r.a)(h,2),m=O[0],v=O[1],x=Object(a.useState)(""),g=Object(r.a)(x,2),y=g[0],k=g[1];return Object(f.jsxs)("form",{onSubmit:function(){var e=Object(j.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",w(n,t.id,d));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[Object(f.jsx)("p",{className:"error",children:p}),Object(f.jsx)("label",{htmlFor:"select-activity",children:"Activity: "}),Object(f.jsx)("select",{name:"select-activity",id:"select-activity",value:s,onChange:Object(j.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o(document.getElementById("select-activity").value));case 1:case"end":return e.stop()}}),e)}))),children:n.map((function(e,t){return Object(f.jsx)("option",{value:e.id,children:e.name},"classification"+t)}))}),Object(f.jsx)("label",{htmlFor:"act-count",children:"Count: "}),Object(f.jsx)("input",{name:"act-count",id:"act-count",type:"number",placeholder:"0",value:m,onChange:function(){var e=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v(t.target.value));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Object(f.jsx)("label",{htmlFor:"act-duration",children:"Duration: "}),Object(f.jsx)("input",{name:"act-duration",id:"act-duration",type:"number",placeholder:"0",value:y,onChange:function(){var e=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",k(t.target.value));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Object(f.jsx)("button",{type:"submit",children:"Submit"})]})},C=(n(28),function(e){var t=e.routine,n=(e.user,t.activities),r=n.map((function(e,t){return Object(f.jsx)(y,{activity:e},t)}));return Object(f.jsxs)("div",{className:"routine",children:[Object(f.jsx)("h1",{children:t.name}),Object(f.jsxs)("h2",{children:["Creator: ",t.creatorName]}),Object(f.jsxs)("h3",{children:["Goal: ",t.goal]}),n.length>0?Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{children:"Activities:"}),Object(f.jsx)("ul",{className:"activity-list",children:r})]}):null]})});function I(){return(I=Object(j.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("".concat(d,"/api/routines"));case 2:n=e.sent,r=n.data,t(r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var N=function(){var e=Object(a.useState)([]),t=Object(r.a)(e,2),n=t[0],c=t[1];Object(a.useEffect)((function(){!function(e){I.apply(this,arguments)}(c)}),[]);var i=n.map((function(e,t){return Object(f.jsx)(C,{routine:e},t)}));return Object(f.jsx)("div",{id:"routine-list",children:i})};function E(){return(E=Object(j.a)(l.a.mark((function e(t,n){var a,c,i,s,o,u,j;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.token,c=n.setError,t.preventDefault(),i=t.target,s=Object(r.a)(i,3),o=s[0],u=s[1],j=s[2],e.prev=4,e.next=7,p()("".concat(d,"/api/routines"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},data:{name:"".concat(o.value),goal:"".concat(u.value),isPublic:"".concat(j.checked)}});case 7:window.location.reload(),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(4),c("*A routine with that name already exists"),console.error(e.t0);case 14:case 15:case"end":return e.stop()}}),e,null,[[4,10]])})))).apply(this,arguments)}var T=function(e){var t=e.token,n=Object(a.useState)(""),c=Object(r.a)(n,2),i=c[0],s=c[1],o=Object(a.useState)(""),u=Object(r.a)(o,2),b=u[0],p=u[1],d=Object(a.useState)(""),h=Object(r.a)(d,2),O=h[0],m=h[1],v={token:t,setError:s};return Object(f.jsxs)("form",{id:"new-routine",onSubmit:function(e){return function(e,t){return E.apply(this,arguments)}(e,v)},children:[Object(f.jsx)("h3",{children:"New Routine"}),Object(f.jsx)("p",{className:"error",children:i}),Object(f.jsx)("label",{htmlFor:"new-name",children:"Name:"}),Object(f.jsx)("input",{id:"new-name",type:"text",placeholder:"name",required:!0,value:b,onChange:function(){var e=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",p(t.target.value));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Object(f.jsx)("label",{htmlFor:"new-goal",children:"Goal:"}),Object(f.jsx)("input",{id:"new-goal",type:"text",placeholder:"goal",required:!0,value:O,onChange:function(){var e=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m(t.target.value));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Object(f.jsx)("label",{htmlFor:"public-box",children:"Public:"}),Object(f.jsx)("input",{id:"public-box",type:"checkbox"}),Object(f.jsx)("button",{id:"btn-submit",type:"submit",children:"Submit"})]})};function F(){return(F=Object(j.a)(l.a.mark((function e(t,n){var a,c,i,s,o,u,j;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.token,c=n.setError,i=n.routine,t.preventDefault(),s=Object(r.a)(t.target,3),o=s[0],u=s[1],j=s[2],e.prev=3,e.next=6,p()("".concat(d,"/api/routines/").concat(i.id),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},data:{name:"".concat(o.value),goal:"".concat(u.value),isPublic:"".concat(j.checked)}});case 6:window.location.reload(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(3),c("*A routine with that name already exists!"),console.error(e.t0);case 13:case 14:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}var A=function(e){var t=e.routine,n=localStorage.getItem("Token"),c=Object(a.useState)(""),i=Object(r.a)(c,2),s=i[0],o=i[1],u=Object(a.useState)(""),b=Object(r.a)(u,2),p=b[0],d=b[1],h=Object(a.useState)(""),O=Object(r.a)(h,2),m=O[0],v=O[1],x={token:n,setError:o,routine:t};return Object(a.useEffect)((function(){d(t.name),v(t.goal)}),[]),Object(f.jsxs)("form",{className:"edit-routine",onSubmit:function(e){return function(e,t){return F.apply(this,arguments)}(e,x)},children:[Object(f.jsx)("h3",{children:"Edit Routine"}),Object(f.jsx)("p",{className:"error",children:s}),Object(f.jsx)("label",{htmlFor:"edit-name",children:"Name:"}),Object(f.jsx)("input",{className:"edit-name",type:"text",placeholder:"name",required:!0,value:p,onChange:function(){var e=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",d(t.target.value));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Object(f.jsx)("label",{htmlFor:"edit-goal",children:"Goal:"}),Object(f.jsx)("input",{className:"edit-goal",type:"text",placeholder:"goal",required:!0,value:m,onChange:function(){var e=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v(t.target.value));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Object(f.jsx)("label",{htmlFor:"edit-public",children:"Public:"}),Object(f.jsx)("input",{className:"edit-public",type:"checkbox",defaultChecked:t.isPublic}),Object(f.jsx)("button",{className:"sub-edits",type:"submit",children:"Submit"})]})};function D(){return(D=Object(j.a)(l.a.mark((function e(t,n){var r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.token,a=n.routine,t.preventDefault(),e.prev=2,e.next=5,p()("".concat(d,"/api/routines/").concat(a.id),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)}});case 5:window.location.reload(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.error(e.t0);case 11:case 12:case"end":return e.stop()}}),e,null,[[2,8]])})))).apply(this,arguments)}var L=function(e){var t=e.routine,n={token:localStorage.getItem("Token"),routine:t};return Object(f.jsxs)("form",{className:"delete-routine",onSubmit:function(e){return function(e,t){return D.apply(this,arguments)}(e,n)},children:[Object(f.jsx)("h3",{children:"Delete Routine?"}),Object(f.jsx)("button",{className:"sub-edits",type:"submit",children:"Confirm"})]})};function P(e,t,n){return q.apply(this,arguments)}function q(){return(q=Object(j.a)(l.a.mark((function e(t,n,a){var c,i,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),c=Object(r.a)(t.target,2),i=c[0],s=c[1],e.prev=2,e.next=5,p()("".concat(d,"/api/routine_activities/").concat(a),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},data:{count:"".concat(i.value||0),duration:"".concat(s.value||0)}});case 5:window.location.reload(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.error(e.t0);case 11:case 12:case"end":return e.stop()}}),e,null,[[2,8]])})))).apply(this,arguments)}var R=function(e){var t=e.activity,n=Object(a.useState)(0),c=Object(r.a)(n,2),i=c[0],s=c[1],o=Object(a.useState)(0),u=Object(r.a)(o,2),b=u[0],p=u[1];Object(a.useEffect)((function(){s(t.count),p(t.duration)}),[]);var d=localStorage.getItem("Token");return Object(f.jsxs)("form",{id:"edit-rout-act",onSubmit:function(){var e=Object(j.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",P(n,d,t.routineActivityId));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[Object(f.jsx)("label",{htmlFor:"act-count",children:"Count: "}),Object(f.jsx)("input",{name:"act-count",id:"act-count",type:"number",placeholder:"0",value:i,onChange:function(e){return s(e.target.value)}}),Object(f.jsx)("label",{htmlFor:"act-duration",children:"Duration: "}),Object(f.jsx)("input",{name:"act-duration",id:"act-duration",type:"number",placeholder:"0",value:b,onChange:function(e){return p(e.target.value)}}),Object(f.jsx)("button",{type:"submit",children:"Submit"})]})};function B(){return(B=Object(j.a)(l.a.mark((function e(t,n,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,p()("".concat(d,"/api/routine_activities/").concat(n.routineActivityId),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)}});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.error(e.t0);case 9:case 10:case"end":return e.stop()}}),e,null,[[1,6]])})))).apply(this,arguments)}var U=function(e){var t=e.activity,n=e.setRemoved,r=localStorage.getItem("Token");return Object(f.jsx)("button",{onClick:function(e){!function(e,t,n){B.apply(this,arguments)}(e,t,r),n(!0)},children:"Remove"})},z=function(e){var t=e.activity,n=Object(a.useState)(!1),c=Object(r.a)(n,2),i=c[0],s=c[1],o=Object(a.useState)(!1),u=Object(r.a)(o,2),l=u[0],j=u[1];return Object(f.jsx)(f.Fragment,{children:l?null:Object(f.jsxs)("div",{className:"activity",children:[Object(f.jsxs)("li",{children:[Object(f.jsxs)("h3",{children:["Name: ",t.name]}),Object(f.jsxs)("h3",{children:["Description: ",t.description]}),Object(f.jsxs)("h3",{children:["Count: ",t.count]}),Object(f.jsxs)("h3",{children:["Duration: ",t.duration]})]}),Object(f.jsx)("button",{onClick:function(){return s(!i)},children:"Edit"}),Object(f.jsx)(U,{activity:t,setRemoved:j}),i?Object(f.jsx)(R,{activity:t}):null]})})},G=function(e){var t=e.routine,n=e.actList,c=Object(a.useState)(!1),i=Object(r.a)(c,2),s=i[0],o=i[1],u=Object(a.useState)(!1),l=Object(r.a)(u,2),j=l[0],b=l[1],p=Object(a.useState)(!1),d=Object(r.a)(p,2),h=d[0],O=d[1],m=t.activities,v=m.map((function(e,t){return Object(f.jsx)(z,{activity:e},t)}));return Object(f.jsxs)("div",{className:"routine",children:[Object(f.jsx)("h1",{children:t.name}),Object(f.jsxs)("h2",{children:["Creator: ",t.creatorName]}),Object(f.jsxs)("h3",{children:["Goal: ",t.goal]}),m.length>0?Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{children:"Activities:"}),Object(f.jsx)("ul",{className:"activity-list",children:v})]}):null,Object(f.jsx)("button",{onClick:function(){o(!s),O(!1),b(!1)},children:"Edit"}),Object(f.jsx)("button",{onClick:function(){o(!1),O(!h),b(!1)},children:"Add Activity"}),Object(f.jsx)("button",{onClick:function(){o(!1),O(!1),b(!j)},children:"Delete"}),s?Object(f.jsx)(A,{routine:t}):null,h?Object(f.jsx)(S,{routine:t,actList:n}):null,j?Object(f.jsx)(L,{routine:t}):null]})};function H(){return(H=Object(j.a)(l.a.mark((function e(t,n,r,a){var c,i,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("".concat(d,"/api/users/").concat(t,"/routines"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}});case 2:return c=e.sent,i=c.data,e.next=6,O();case 6:s=e.sent,r(i),a(s);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _=function(){var e=localStorage.getItem("User"),t=localStorage.getItem("Token"),n=Object(a.useState)([]),c=Object(r.a)(n,2),i=c[0],s=c[1],o=Object(a.useState)([]),u=Object(r.a)(o,2),l=u[0],j=u[1];Object(a.useEffect)((function(){!function(e,t,n,r){H.apply(this,arguments)}(e,t,s,j)}),[]);var b=i.map((function(e,t){return Object(f.jsx)(G,{routine:e,actList:l},t)}));return Object(f.jsxs)("div",{id:"my-routine-list",children:[Object(f.jsx)(T,{token:t}),b]})};n(29);function J(){return(J=Object(j.a)(l.a.mark((function e(t){var n,r,a,c,i,s,o,u,j;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.history,r=t.setError,a=t.name,c=t.setName,i=t.pass,s=t.setPass,o=t.setLoggedIn,e.prev=1,e.next=4,p()({method:"POST",url:"".concat(d,"/api/users/login"),data:{username:"".concat(a),password:"".concat(i)}});case 4:u=e.sent,j=u.data,localStorage.setItem("Token",j.token),localStorage.setItem("User",j.user.username),o(!0),n.push("/"),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(1),r("Username or Password is invalid"),c(""),s("");case 17:case 18:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}var M=function(e){var t=e.loggedIn,n=e.setLoggedIn,c=Object(o.f)(),i=Object(a.useState)(""),u=Object(r.a)(i,2),l=u[0],j=u[1],b=Object(a.useState)(""),p=Object(r.a)(b,2),d=p[0],h=p[1],O=Object(a.useState)(""),m=Object(r.a)(O,2),v=m[0],x=m[1];Object(a.useEffect)((function(){t&&location.assign("/")}),[]);return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("form",{id:"log-in",className:"user-table",onSubmit:function(e){e.preventDefault(),function(e){J.apply(this,arguments)}({history:c,setError:j,name:d,setName:h,pass:v,setPass:x,setLoggedIn:n})},children:[Object(f.jsx)("h3",{children:"Log-In"}),Object(f.jsx)("p",{className:"error",children:l}),Object(f.jsx)("label",{htmlFor:"username",children:"Username:"}),Object(f.jsx)("input",{type:"text",placeholder:"username",minLength:4,required:!0,value:d,onChange:function(e){return h(e.target.value)}}),Object(f.jsx)("label",{htmlFor:"password",children:"Password:"}),Object(f.jsx)("input",{type:"password",placeholder:"password",minLength:8,required:!0,value:v,onChange:function(e){return x(e.target.value)}}),Object(f.jsx)("button",{id:"btn-login",type:"submit",children:"Log-in"}),Object(f.jsxs)("p",{children:["Don't have an account? ",Object(f.jsx)(s.b,{id:"sign-up",to:"/register",children:"Sign up!"})]})]})})};function W(){return(W=Object(j.a)(l.a.mark((function e(t){var n,r,a,c,i,s,o,u,j,b,h;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.history,r=t.setError,a=t.name,c=t.setName,i=t.pass,s=t.setPass,o=t.passConfirm,u=t.setPassConfirm,j=t.setLoggedIn,e.prev=1,i===o){e.next=6;break}return s(""),u(""),e.abrupt("return",r("*Passwords must match!"));case 6:return e.next=9,p()({method:"POST",url:"".concat(d,"/api/users/register"),data:{username:"".concat(a),password:"".concat(i)}});case 9:b=e.sent,h=b.data,localStorage.setItem("Token",h.token),localStorage.setItem("User",h.user.username),j(!0),n.push("/"),e.next=23;break;case 17:e.prev=17,e.t0=e.catch(1),r("*User already exists!"),c(""),s(""),u("");case 23:case 24:case"end":return e.stop()}}),e,null,[[1,17]])})))).apply(this,arguments)}var K=function(e){var t=e.loggedIn,n=e.setLoggedIn,c=Object(o.f)(),i=Object(a.useState)(""),u=Object(r.a)(i,2),l=u[0],j=u[1],b=Object(a.useState)(""),p=Object(r.a)(b,2),d=p[0],h=p[1],O=Object(a.useState)(""),m=Object(r.a)(O,2),v=m[0],x=m[1],g=Object(a.useState)(""),y=Object(r.a)(g,2),w=y[0],k=y[1];Object(a.useEffect)((function(){t&&location.assign("/")}),[]);return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("form",{id:"register",className:"user-table",onSubmit:function(e){e.preventDefault(),function(e){W.apply(this,arguments)}({history:c,setError:j,name:d,setName:h,pass:v,setPass:x,passConfirm:w,setPassConfirm:k,setLoggedIn:n})},children:[Object(f.jsx)("h3",{children:"Registration"}),Object(f.jsx)("p",{className:"error",children:l}),Object(f.jsx)("label",{htmlFor:"username",children:"Username:"}),Object(f.jsx)("input",{type:"text",placeholder:"username",minLength:4,required:!0,value:d,onChange:function(e){return h(e.target.value)}}),Object(f.jsx)("label",{htmlFor:"password",children:"Password:"}),Object(f.jsx)("input",{type:"password",placeholder:"password",minLength:8,required:!0,value:v,onChange:function(e){return x(e.target.value)}}),Object(f.jsx)("label",{htmlFor:"pass-confirm",children:"Confim Password:"}),Object(f.jsx)("input",{type:"password",placeholder:"confim password",minLength:8,required:!0,value:w,onChange:function(e){return k(e.target.value)}}),Object(f.jsx)("button",{id:"btn-login",type:"submit",children:"Submit"}),Object(f.jsxs)("p",{children:["Already have an account? ",Object(f.jsx)(s.b,{id:"log-in",to:"/login",children:"Log In!"})]})]})})},Q=(n(62),function(){return Object(f.jsx)("footer",{id:"foot",children:Object(f.jsx)("h1",{children:"Footer"})})}),V=(n(63),function(e){var t=e.loggedIn,n=e.logOut;return Object(f.jsx)("div",{id:"nav",children:Object(f.jsxs)("div",{id:"links",children:[Object(f.jsx)(s.b,{to:"/",children:"Home"}),Object(f.jsx)(s.b,{to:"/activities",children:"Activities"}),Object(f.jsx)(s.b,{to:"/routines",children:"Routines"}),t?Object(f.jsx)(s.b,{to:"/my-routines",children:"My Routines"}):null,t?Object(f.jsx)("button",{onClick:n,children:"Log Out"}):null,t?null:Object(f.jsx)(s.b,{to:"/login",children:"Log In/Register"})]})})});function X(e){return Y.apply(this,arguments)}function Y(){return(Y=Object(j.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("".concat(d,"/api/users/me"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Z=function(e){var t=e.loggedIn,n=localStorage.getItem("Token"),c=Object(a.useState)({}),i=Object(r.a)(c,2),s=i[0],o=i[1];Object(a.useEffect)((function(){function e(){return(e=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=5;break}return e.next=3,X(n);case 3:t=e.sent,o(t);case 5:case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var u=function(e){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("h1",{children:["ID: ",e.id]}),Object(f.jsxs)("h1",{children:["Username: ",e.username]})]})}(s);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{id:"user-info",children:t?u:null}),Object(f.jsxs)("div",{id:"welcome",children:[Object(f.jsx)("h1",{children:"Welcome to Fitness Tracker"}),Object(f.jsx)("h1",{children:"Home of the Original Fitness!"})]})]})};n(64);var $=function(){var e=Object(a.useState)(!1),t=Object(r.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){!function(e){if(localStorage.getItem("User")&&localStorage.getItem("Token"))e(!0)}(c)}),[]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{id:"app",children:[Object(f.jsx)("h1",{id:"logo",children:"Fitness Trac.kr"}),Object(f.jsx)("div",{id:"background"}),Object(f.jsxs)(s.a,{children:[Object(f.jsx)(V,{loggedIn:n,logOut:function(e){e.preventDefault(),localStorage.removeItem("User"),localStorage.removeItem("Token"),location.assign("/")}}),Object(f.jsx)("main",{children:Object(f.jsxs)(o.c,{children:[Object(f.jsx)(o.a,{path:"/activities",render:function(){return Object(f.jsx)(g,{loggedIn:n})}}),Object(f.jsx)(o.a,{path:"/login",render:function(){return Object(f.jsx)(M,{loggedIn:n,setLoggedIn:c})}}),Object(f.jsx)(o.a,{path:"/my-routines",component:_}),Object(f.jsx)(o.a,{path:"/register",render:function(){return Object(f.jsx)(K,{loggedIn:n,setLoggedIn:c})}}),Object(f.jsx)(o.a,{path:"/routines",component:N}),Object(f.jsx)(o.a,{path:"/",render:function(){return Object(f.jsx)(Z,{loggedIn:n})}})]})})]})]}),Object(f.jsx)(Q,{})]})};i.a.render(Object(f.jsx)($,{}),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.4f729b4e.chunk.js.map